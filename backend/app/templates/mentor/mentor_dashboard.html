{% extends "layout.html" %}

{% block content %}

<style>
    .container {
    width: 80%;
    margin: auto;
}

.mentor_dashboard {
    background-color: rgb(244, 247, 250);
    border: 1px solid #ccc;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 7em;
}

.dashboard_header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.header_left {
    display: flex;
    align-items: center;
}

.header_left h4 {
    margin-right: 10px;
}

.session_request,
.session {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}

.action_buttons button {
    margin-right: 5px;
}

.session_form label {
    display: block;
    margin-bottom: 5px;
}

.session_form input {
    width: 100%;
    margin-bottom: 10px;
}

.account_settings_link {
    text-decoration: none;
    color: blue;
}
hr {
        border-width: 2px;
        color: black;
        margin-top: 10px;
        margin-bottom: 10px;
    }

</style>


<div class="container" style="margin-top: 6em;">
    <h2 class="mt-3">Dashboard</h2>
    <div class="mentor_dashboard">
        <div class="row mb-3">
            <div class="col-md-6">
                <h3>{{user.full_name}}</h3> 
                <h5>{{ date }}</h5>
            </div>
            <div class="col-md-6 text-md-right">
                <a href="{{url_for('mentor.update_mentor_profile')}}" class="btn btn-primary">Account Settings</a>
            </div>
        </div>
        <hr>
        <!-- Session Requests -->
        <div class="session_requests mb-4">
            <h4>Session Requests</h4>
            <!-- Session requests list goes here -->
            <div class="session-requests">
                {% if pending_requests %}
                    {% for request in pending_requests %}
                    <div style="display: flex; justify-content: space-between; align-items: center;" class="session_request">
                        <span>{{ request.user.username }} requested a session on {{ request.date }}</span>
                        <div class="action_buttons">
                            <a href="{{ url_for('mentor.approve_request', request_id=request.id) }}" class="btn btn-success">Approve</a>
                            <a href="{{ url_for('mentor.decline_request', request_id=request.id) }}" class="btn btn-danger">Decline</a>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <p class="session_request">No requests at the moment.</p>
                {% endif %}
            </div>            
        </div>
        <hr>

                <!-- Session Requests -->
                <div class="session_requests mb-4">
                    <h4>Approved Requests</h4>
                    <!-- Session requests list goes here -->
                    <div class="session-requests">
                        {% if approved_requests %}
                            {% for request in approved_requests %}
                            <div style="display: flex; justify-content: space-between; align-items: center;" class="session_request">
                                <span>You approved {{ request.user.username }}'s request on {{ request.date }}</span>
                            </div>
                            {% endfor %}
                        {% else %}
                            <p class="session_request">No requests at the moment.</p>
                        {% endif %}
                    </div>            
                </div>
                <hr>

        <!-- Session Scheduling -->
        <div class="session_scheduling mb-4">
            <h4>Schedule Sessions</h4>
            <!-- Session scheduling form goes here -->
            <!-- Example: -->
            <form class="session_form">
                <div class="form-group">
                    <label for="session_date">Date:</label>
                    <input type="date" id="session_date" name="session_date" class="form-control">
                </div>
                <div class="form-group">
                    <label for="session_time">Time:</label>
                    <input type="time" id="session_time" name="session_time" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary">Schedule Session</button>
            </form>
        </div>

        <!-- Session Management -->
        <div class="session_management">
            <h4>Session Management</h4>
            <!-- Session list and management options go here -->
            <!-- Example: -->
            <div class="session" style="display: flex; justify-content: space-between; align-items: center;">
                <span class="mentee_name" style="margin-right: 10px;">Jane Smith</span>
                <span class="session_date" style="margin-right: 10px;">Session on {{ date }}</span>
                <span class="session_status" style="margin-right: 10px;">Status: pending</span>
                <div class="action_buttons">
                    <button class="btn btn-primary">Start Session</button>
                    <button class="btn btn-success">Complete Session</button>
                </div>
            </div>
            
        </div>
    </div>
</div>



{% endblock %}